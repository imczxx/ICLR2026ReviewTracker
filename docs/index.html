<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ICLR 2026 Submissions</title>
    <style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background: #ffffff; color: #1a1a1a; line-height: 1.7; }
.container { max-width: 1100px; margin: 0 auto; padding: 30px 20px; }
header { background: #ffffff; border-bottom: 1px solid #e5e5e5; padding: 25px 0; margin-bottom: 35px; }
header h1 { text-align: center; font-size: 2em; font-weight: 600; color: #1a1a1a; letter-spacing: -0.5px; }
.tabs { display: flex; gap: 8px; margin-bottom: 25px; border-bottom: 1px solid #e5e5e5; }
.tab { padding: 10px 20px; cursor: pointer; background: transparent; border: none; font-size: 15px; font-weight: 500; color: #666; border-bottom: 2px solid transparent; transition: all 0.2s; }
.tab:hover { color: #1a1a1a; }
.tab.active { color: #1a1a1a; border-bottom-color: #1a1a1a; }
.filters { background: #fafafa; padding: 18px 20px; border-radius: 8px; margin-bottom: 25px; border: 1px solid #e5e5e5; }
.filter-group { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }
.filter-btn { padding: 7px 14px; border: 1px solid #d0d0d0; background: #ffffff; color: #333; border-radius: 5px; cursor: pointer; font-size: 13px; transition: all 0.2s; font-weight: 500; }
.filter-btn:hover { border-color: #1a1a1a; color: #1a1a1a; background: #fafafa; }
.filter-btn.active { background: #1a1a1a; color: #ffffff; border-color: #1a1a1a; }
.filter-count { font-size: 12px; opacity: 0.7; margin-left: 4px; }
.paper-list { display: grid; gap: 18px; }
.paper-card { background: #ffffff; padding: 22px; border-radius: 6px; border: 1px solid #e5e5e5; transition: all 0.2s; }
.paper-card:hover { border-color: #1a1a1a; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
.paper-title { font-size: 1.15em; font-weight: 600; margin-bottom: 6px; line-height: 1.4; }
.paper-title a { color: #1a1a1a; text-decoration: none; }
.paper-title a:hover { color: #0066cc; }
.paper-info-line { font-size: 0.82em; color: #666; margin-bottom: 3px; line-height: 1.5; }
.pdf-link { color: #0066cc; text-decoration: none; font-weight: 500; }
.pdf-link:hover { text-decoration: underline; }
.paper-toggle { font-size: 0.82em; color: #666; cursor: pointer; margin: 8px 0 6px 0; user-select: none; display: inline-block; }
.paper-toggle:hover { color: #0066cc; }
.paper-details { margin: 8px 0 10px 0; padding: 0; background: transparent; border: none; font-size: 0.88em; line-height: 1.6; color: #555; }
.detail-section { margin: 6px 0; color: #555; }
.detail-section strong { color: #666; font-weight: 500; font-size: 0.9em; }
.paper-meta { display: flex; gap: 12px; font-size: 0.88em; color: #666; flex-wrap: wrap; align-items: center; margin-top: 8px; }
.meta-item { display: flex; align-items: center; gap: 5px; }
.badge { padding: 4px 10px; border-radius: 4px; font-size: 0.85em; font-weight: 500; }
.badge-increase { background: #e8f5e9; color: #2e7d32; border: 1px solid #c8e6c9; }
.badge-decrease { background: #ffebee; color: #c62828; border: 1px solid #ffcdd2; }
.badge-ratingnochange { background: #e3f2fd; color: #1565c0; border: 1px solid #bbdefb; }
.badge-nochanges { background: #f5f5f5; color: #757575; border: 1px solid #e0e0e0; }
.tab-content { display: none; }
.tab-content.active { display: block; }
.hidden { display: none !important; }
.detail-container { background: #ffffff; padding: 30px; border-radius: 8px; border: 1px solid #e5e5e5; margin-bottom: 20px; }
.back-link { display: inline-block; margin-bottom: 18px; color: #0066cc; text-decoration: none; font-weight: 500; font-size: 0.92em; }
.back-link:hover { text-decoration: underline; }
.metadata-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 12px; margin: 18px 0; }
.metadata-item { padding: 12px 14px; background: #fafafa; border-radius: 5px; border: 1px solid #e5e5e5; }
.metadata-label { font-weight: 600; color: #666; font-size: 0.8em; margin-bottom: 5px; text-transform: uppercase; letter-spacing: 0.5px; }
.metadata-value { color: #1a1a1a; font-size: 0.88em; line-height: 1.5; }
.abstract { margin: 20px 0; padding: 20px; background: #fafafa; border-radius: 6px; line-height: 1.6; border: 1px solid #e5e5e5; font-size: 0.88em; }
.abstract h3 { font-size: 1em; margin-bottom: 10px; color: #1a1a1a; font-weight: 600; }
.replies-section { margin-top: 25px; }
.replies-section h2 { font-size: 1.25em; margin-bottom: 15px; color: #1a1a1a; font-weight: 600; }
.reply-card { background: #ffffff; padding: 18px 20px; border-radius: 6px; margin-bottom: 12px; border: 1px solid #e5e5e5; font-size: 0.86em; }
.reply-card:hover { border-color: #d0d0d0; }
.author-reply { background: #fffbf0; border: 1px solid #ffe0b2; }
.reply-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; flex-wrap: wrap; gap: 5px; }
.reply-meta { font-size: 0.92em; color: #666; display: flex; align-items: center; gap: 7px; flex-wrap: wrap; }
.reply-date { font-size: 0.88em; color: #999; }
.badge-author { background: #ff9800; color: white; border: none; }
.content-section { margin: 5px 0; }
.content-label { font-weight: 600; color: #1a1a1a; margin-bottom: 3px; font-size: 0.9em; }
.content-text { color: #333; line-height: 1.55; font-size: 0.9em; }
.content-text p { margin: 6px 0; }
.content-text h1, .content-text h2, .content-text h3 { margin: 10px 0 6px 0; color: #1a1a1a; font-weight: 600; }
.content-text h1 { font-size: 1.25em; }
.content-text h2 { font-size: 1.12em; }
.content-text h3 { font-size: 1.03em; }
.content-text strong { font-weight: 600; color: #1a1a1a; }
.content-text em { font-style: italic; }
.content-text code { background: #f5f5f5; padding: 2px 5px; border-radius: 3px; font-family: 'SF Mono', 'Monaco', 'Consolas', monospace; font-size: 0.88em; color: #c7254e; border: 1px solid #e5e5e5; }
.content-text ul, .content-text ol { margin: 8px 0; padding-left: 28px; }
.content-text li { margin: 4px 0; line-height: 1.6; }
.content-text blockquote { border-left: 3px solid #0066cc; padding-left: 12px; margin: 8px 0; color: #666; font-style: italic; }
.content-text a { color: #0066cc; text-decoration: none; }
.content-text a:hover { text-decoration: underline; }
.version-toggle { cursor: pointer; color: #0066cc; font-size: 0.86em; margin-top: 8px; user-select: none; font-weight: 500; }
.version-toggle:hover { text-decoration: underline; }
.old-versions { display: none; margin-top: 10px; padding: 12px; background: #ffffff; border-radius: 5px; border: 1px solid #e5e5e5; }
.old-versions.show { display: block; }
.version-item { padding: 10px; margin: 6px 0; background: #fafafa; border-radius: 4px; font-size: 0.88em; border: 1px solid #e5e5e5; }
.stats { text-align: center; padding: 12px; background: #fafafa; border-radius: 6px; margin-bottom: 20px; font-size: 0.9em; color: #666; border: 1px solid #e5e5e5; }
.search-container { background: #fafafa; padding: 18px 20px; border-radius: 8px; margin-bottom: 15px; border: 1px solid #e5e5e5; }
.search-box { display: flex; gap: 10px; align-items: center; }
.search-input { flex: 1; padding: 10px 15px; border: 1px solid #d0d0d0; border-radius: 5px; font-size: 14px; font-family: inherit; }
.search-input:focus { outline: none; border-color: #1a1a1a; }
.search-btn { padding: 10px 20px; background: #1a1a1a; color: #ffffff; border: none; border-radius: 5px; cursor: pointer; font-size: 14px; font-weight: 500; transition: all 0.2s; }
.search-btn:hover { background: #333; }
.search-btn:disabled { background: #ccc; cursor: not-allowed; }
.clear-search-btn { padding: 10px 20px; background: #ffffff; color: #333; border: 1px solid #d0d0d0; border-radius: 5px; cursor: pointer; font-size: 14px; font-weight: 500; transition: all 0.2s; }
.clear-search-btn:hover { border-color: #1a1a1a; background: #fafafa; }
.search-status { margin-top: 10px; font-size: 0.9em; color: #666; }
.search-status strong { color: #1a1a1a; }
.pagination-container { margin-top: 12px; display: flex; gap: 8px; align-items: center; flex-wrap: wrap; justify-content: center; }
.page-btn { padding: 6px 12px; background: #ffffff; color: #333; border: 1px solid #d0d0d0; border-radius: 4px; cursor: pointer; font-size: 13px; font-weight: 500; transition: all 0.2s; }
.page-btn:hover { border-color: #1a1a1a; background: #fafafa; }
.page-btn.active { background: #1a1a1a; color: #ffffff; border-color: #1a1a1a; }
.page-btn:disabled { background: #f5f5f5; color: #999; cursor: not-allowed; border-color: #e0e0e0; }
.page-info { font-size: 0.85em; color: #666; }
</style>
    <script>
    MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            displayMath: [['$$', '$$'], ['\\[', '\\]']],
            processEscapes: true,
            processEnvironments: true
        },
        options: {
            skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
        }
    };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="assets/cache-manager.js"></script>
</head>
<body>
    <header>
        <div class="container">
            <h1>ICLR 2026 Submissions</h1>
            <div id="cache-status" style="text-align: center; margin-top: 8px;"></div>
        </div>
    </header>
    <div class="container">
        <div id="loading" style="text-align: center; padding: 40px; color: #666;">
            <div style="font-size: 1.2em; margin-bottom: 10px;">Loading papers...</div>
            <div style="font-size: 0.9em;">Please wait</div>
        </div>
        <div id="main-content" style="display: none;">
            <div class="search-container">
                <div class="search-box">
                    <input type="text" id="search-input" class="search-input" placeholder="Search submissions by title and metadata" />
                    <button onclick="performSearch()" class="search-btn" id="search-btn">Search</button>
                    <button onclick="clearSearch()" class="clear-search-btn" id="clear-search-btn" style="display: none;">Clear</button>
                </div>
                <div id="search-status" class="search-status" style="display: none;"></div>
                <div id="pagination-container" class="pagination-container" style="display: none;"></div>
            </div>
            <div class="tabs">
                <button class="tab active" data-tab="active" onclick="switchTab('active')">Active Submissions <span id="active-count"></span></button>
                <button class="tab" data-tab="withdrawn" onclick="switchTab('withdrawn')">Withdrawn Submissions <span id="withdrawn-count"></span></button>
            </div>
            <div id="active" class="tab-content active"></div>
            <div id="withdrawn" class="tab-content"></div>
        </div>
    </div>
    <script>
function switchTab(tabName) {
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
    document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
    document.getElementById(tabName).classList.add('active');
    updateFilters(tabName);
}

function updateFilters(tabName) {
    const papers = document.querySelectorAll(`#${tabName} .paper-card`);
    const activeFilter = document.querySelector(`#${tabName} .filter-btn.active`)?.dataset.filter || 'all';
    
    papers.forEach(paper => {
        if (activeFilter === 'all') {
            paper.classList.remove('hidden');
        } else {
            const hasChange = paper.dataset.hasChange === 'true';
            const hasIncrease = paper.dataset.hasIncrease === 'true';
            const hasDecrease = paper.dataset.hasDecrease === 'true';
            const hasRatingNochange = paper.dataset.hasRatingnochange === 'true';
            const hasReviews = paper.dataset.hasReviews === 'true';
            
            let show = false;
            if (activeFilter === 'increase' && hasIncrease) show = true;
            if (activeFilter === 'decrease' && hasDecrease) show = true;
            if (activeFilter === 'ratingnochange' && hasRatingNochange) show = true;
            // No Changes: æœ‰reviewä½†æ²¡æœ‰ä»»ä½•å˜åŒ–
            if (activeFilter === 'nochanges' && !hasChange && hasReviews) show = true;
            // No Reviews: æ²¡æœ‰review
            if (activeFilter === 'noreviews' && !hasReviews) show = true;
            
            paper.classList.toggle('hidden', !show);
        }
    });
    
    updateStats(tabName);
}

function toggleFilter(tabName, filterName) {
    // å•é€‰æ¨¡å¼ï¼šç§»é™¤æ‰€æœ‰activeï¼Œåªæ¿€æ´»å½“å‰æŒ‰é’®
    document.querySelectorAll(`#${tabName} .filter-btn`).forEach(b => b.classList.remove('active'));
    document.querySelector(`#${tabName} .filter-btn[data-filter="${filterName}"]`).classList.add('active');
    
    updateFilters(tabName);
}

function updateStats(tabName) {
    // ç»Ÿè®¡åŠŸèƒ½å·²ç§»é™¤ï¼Œä¿ç•™å‡½æ•°ä»¥é¿å…é”™è¯¯
}

function toggleVersions(replyId) {
    const versionsDiv = document.getElementById('versions-' + replyId);
    if (versionsDiv) {
        versionsDiv.classList.toggle('show');
    }
}

function toggleReplyFilter(filterName) {
    // å•é€‰æ¨¡å¼ï¼šç§»é™¤æ‰€æœ‰activeï¼Œåªæ¿€æ´»å½“å‰æŒ‰é’®
    document.querySelectorAll('.replies-section .filter-btn').forEach(b => b.classList.remove('active'));
    document.querySelector(`.replies-section .filter-btn[data-filter="${filterName}"]`).classList.add('active');
    
    // ç­›é€‰replyå¡ç‰‡
    const replyCards = document.querySelectorAll('.reply-card');
    replyCards.forEach(card => {
        if (filterName === 'all') {
            card.classList.remove('hidden');
        } else {
            const cardFilter = card.dataset.replyFilter;
            card.classList.toggle('hidden', cardFilter !== filterName);
        }
    });
}

async function loadDetails(paperId) {
    const detailsDiv = document.getElementById('details-' + paperId);
    const toggleBtn = event.target;
    
    // å¦‚æœå·²ç»å±•å¼€ï¼Œåˆ™æ”¶èµ·
    if (detailsDiv.style.display === 'block') {
        detailsDiv.style.display = 'none';
        toggleBtn.textContent = 'â–¼ Show details';
        return;
    }
    
    // å¦‚æœå·²ç»åŠ è½½è¿‡å†…å®¹ï¼Œç›´æ¥å±•å¼€
    if (detailsDiv.innerHTML.trim() !== '') {
        detailsDiv.style.display = 'block';
        toggleBtn.textContent = 'â–² Hide details';
        return;
    }
    
    // æ˜¾ç¤ºåŠ è½½ä¸­
    detailsDiv.innerHTML = '<div style="color: #999; font-size: 0.85em;">Loading...</div>';
    detailsDiv.style.display = 'block';
    toggleBtn.textContent = 'â–² Hide details';
    
    try {
        // é€šè¿‡CORSä»£ç†è®¿é—®OpenReview API
        const proxyUrl = 'https://corsproxy.io/?';
        const apiUrl = `https://api2.openreview.net/notes?id=${paperId}`;
        const response = await fetch(proxyUrl + encodeURIComponent(apiUrl), {
            method: 'GET',
            headers: {
                'Accept': 'application/json'
            }
        });
        
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const data = await response.json();
        
        if (data.notes && data.notes.length > 0) {
            const note = data.notes[0];
            const content = note.content;
            
            let html = '';
            
            // Keywords
            if (content.keywords && content.keywords.value && content.keywords.value.length > 0) {
                html += `<div class="detail-section"><strong>Keywords:</strong> ${content.keywords.value.join('; ')}</div>`;
            }
            
            // TL;DR
            const tldr = content.TLDR?.value || content.tldr?.value || '';
            if (tldr) {
                html += `<div class="detail-section"><strong>TL;DR:</strong> ${tldr}</div>`;
            }
            
            // Abstract
            if (content.abstract && content.abstract.value) {
                const abstractHtml = typeof marked !== 'undefined' ? marked.parse(content.abstract.value) : content.abstract.value.replace(/\n/g, '<br>');
                html += `<div class="detail-section"><strong>Abstract:</strong><div style="margin-top: 4px;">${abstractHtml}</div></div>`;
            }
            
            // Supplementary Material
            if (content.supplementary_material && content.supplementary_material.value) {
                const suppUrl = content.supplementary_material.value.startsWith('/') 
                    ? 'https://openreview.net' + content.supplementary_material.value 
                    : content.supplementary_material.value;
                const fileExt = suppUrl.split('.').pop().toLowerCase();
                html += `<div class="detail-section"><strong>Supplementary Material:</strong> <a href="${suppUrl}" target="_blank" class="pdf-link">${fileExt}</a></div>`;
            }
            
            // Primary Area
            const primaryArea = content.primary_area?.value || '';
            if (primaryArea) {
                html += `<div class="detail-section"><strong>Primary Area:</strong> ${primaryArea}</div>`;
            }
            
            detailsDiv.innerHTML = html || '<div style="padding: 10px; color: #666;">No additional details available.</div>';
            
            // è§¦å‘MathJaxæ¸²æŸ“
            if (window.MathJax) {
                MathJax.typesetPromise([detailsDiv]).catch((err) => console.log('MathJax error:', err));
            }
        } else {
            detailsDiv.innerHTML = '<div style="padding: 10px; color: #999;">Failed to load details.</div>';
        }
    } catch (error) {
        console.error('Error loading details:', error);
        detailsDiv.innerHTML = '<div style="padding: 10px; color: #c62828;">Error loading details. Please try again.</div>';
    }
}

document.addEventListener('DOMContentLoaded', () => {
    updateStats('active');
    updateStats('withdrawn');
});
</script>
    <script>
// å…¨å±€å˜é‡
let allPapers = [];
let cache = new PapersCache();
let searchResultIds = null;  // null è¡¨ç¤ºæ— æœç´¢ï¼ŒSet è¡¨ç¤ºæœç´¢ç»“æœçš„ paper IDs
let currentSearchQuery = '';
let totalSearchResults = 0;  // æœç´¢ç»“æœæ€»æ•°
let currentSearchPage = 1;   // å½“å‰æœç´¢é¡µç 
let currentActiveFilter = 'all';  // ä¿å­˜å½“å‰ç­›é€‰çŠ¶æ€

// é¡µé¢åŠ è½½
document.addEventListener('DOMContentLoaded', async () => {
    try {
        // æ˜¾ç¤ºç¼“å­˜çŠ¶æ€
        const status = cache.getStatus();
        if (status.cached) {
            document.getElementById('cache-status').innerHTML = 
                `<div style="display: inline-block; padding: 6px 12px; background: #e8f5e9; border: 1px solid #c8e6c9; border-radius: 4px; font-size: 0.8em; color: #2e7d32;">âœ“ Data from: ${status.lastUpdate}</div>`;
        }
        
        // åŠ è½½æ•°æ®
        allPapers = await cache.loadPapers();
        
        // æ¸²æŸ“é¡µé¢
        renderAllPapers();
        
        // éšè—loadingï¼Œæ˜¾ç¤ºå†…å®¹
        document.getElementById('loading').style.display = 'none';
        document.getElementById('main-content').style.display = 'block';
        
        // æ›´æ–°ç¼“å­˜çŠ¶æ€
        const newStatus = cache.getStatus();
        document.getElementById('cache-status').innerHTML = 
            `<div style="display: inline-flex; align-items: center; gap: 8px;">
                <span style="padding: 6px 12px; background: #e8f5e9; border: 1px solid #c8e6c9; border-radius: 4px; font-size: 0.8em; color: #2e7d32;">âœ“ Data from: ${newStatus.lastUpdate}</span>
                <button onclick="refreshData()" style="padding: 6px 12px; background: #ffffff; border: 1px solid #d0d0d0; border-radius: 4px; font-size: 0.8em; color: #333; cursor: pointer; font-weight: 500;">Refresh from Repo</button>
            </div>`;
    } catch (error) {
        console.error('Failed to load papers:', error);
        document.getElementById('loading').innerHTML = 
            '<div style="color: #c62828;">Failed to load papers. <button onclick="location.reload()">Retry</button></div>';
    }
});

// åˆ·æ–°æ•°æ®
function refreshData() {
    cache.clear();
    location.reload();
}

// è·å–è¿‡æ»¤åçš„è®ºæ–‡ï¼ˆè€ƒè™‘æœç´¢ç»“æœï¼‰
function getFilteredPapers(withdrawn) {
    let papers = allPapers.filter(p => p.withdrawn === withdrawn);
    
    // å¦‚æœæœ‰æœç´¢ç»“æœï¼Œè¿›ä¸€æ­¥è¿‡æ»¤
    if (searchResultIds) {
        papers = papers.filter(p => searchResultIds.has(p.id));
    }
    
    return papers;
}

// æ¸²æŸ“æ‰€æœ‰è®ºæ–‡
function renderAllPapers() {
    const activePapers = getFilteredPapers(false);
    const withdrawnPapers = getFilteredPapers(true);
    
    document.getElementById('active-count').textContent = `(${activePapers.length})`;
    document.getElementById('withdrawn-count').textContent = `(${withdrawnPapers.length})`;
    
    renderPaperList(activePapers, 'active');
    renderPaperList(withdrawnPapers, 'withdrawn');
}

// æ‰§è¡Œæœç´¢ï¼ˆæ”¯æŒåˆ†é¡µï¼‰
async function performSearch(page = 1) {
    const query = document.getElementById('search-input').value.trim();
    if (!query) return;
    
    const searchBtn = document.getElementById('search-btn');
    const searchStatus = document.getElementById('search-status');
    const clearBtn = document.getElementById('clear-search-btn');
    const paginationContainer = document.getElementById('pagination-container');
    
    try {
        searchBtn.disabled = true;
        searchBtn.textContent = 'Searching...';
        searchStatus.style.display = 'block';
        searchStatus.innerHTML = '<span style="color: #666;">Searching...</span>';
        paginationContainer.style.display = 'none';
        
        const limit = 1000;
        const offset = (page - 1) * limit;
        const proxyUrl = 'https://corsproxy.io/?';
        const apiUrl = `https://api2.openreview.net/notes/search?content=all&group=ICLR.cc%2F2026%2FConference&limit=${limit}&offset=${offset}&source=forum&term=${encodeURIComponent(query)}&type=terms&venueid=ICLR.cc%2F2026%2FConference%2FSubmission`;
        
        const response = await fetch(proxyUrl + encodeURIComponent(apiUrl));
        if (!response.ok) throw new Error('Search failed');
        
        const data = await response.json();
        
        // ä¿å­˜æœç´¢ä¿¡æ¯
        totalSearchResults = data.count || 0;
        currentSearchQuery = query;
        currentSearchPage = page;
        
        // æå–æœç´¢ç»“æœçš„ paper IDs
        searchResultIds = new Set(data.notes.map(note => note.id));
        
        // é‡æ–°æ¸²æŸ“
        renderAllPapers();
        
        // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
        const activeResults = getFilteredPapers(false).length;
        const totalPages = Math.ceil(totalSearchResults / limit);
        
        let statusHtml = `<strong>Found ${totalSearchResults} papers</strong> matching "${query}" in active submissions`;
        if (totalPages > 1) {
            statusHtml += ` - Showing page ${page} of ${totalPages}`;
        }
        statusHtml += `<br><span style="color: #666; font-size: 0.9em;">Note: `;
        if (totalSearchResults > 1000) {
            statusHtml += `OpenReview API limit is 1000 results per search; `;
        }
        statusHtml += `OpenReview search API only returns active submissions</span>`;
        searchStatus.innerHTML = statusHtml;
        clearBtn.style.display = 'inline-block';
        
        // æ˜¾ç¤ºåˆ†é¡µæŒ‰é’®ï¼ˆå¦‚æœéœ€è¦ï¼‰
        if (totalPages > 1) {
            renderPagination(page, totalPages);
        }
        
    } catch (error) {
        console.error('Search error:', error);
        searchStatus.innerHTML = '<span style="color: #c62828;">Search failed. Please try again.</span>';
        searchResultIds = null;
        totalSearchResults = 0;
    } finally {
        searchBtn.disabled = false;
        searchBtn.textContent = 'Search';
    }
}

// æ¸²æŸ“åˆ†é¡µæŒ‰é’®
function renderPagination(currentPage, totalPages) {
    const container = document.getElementById('pagination-container');
    container.style.display = 'flex';
    
    let html = '<span class="page-info">Pages:</span>';
    
    // ä¸Šä¸€é¡µæŒ‰é’®
    if (currentPage > 1) {
        html += `<button class="page-btn" onclick="performSearch(${currentPage - 1})">â† Prev</button>`;
    } else {
        html += `<button class="page-btn" disabled>â† Prev</button>`;
    }
    
    // é¡µç æŒ‰é’®ï¼ˆæ™ºèƒ½æ˜¾ç¤ºï¼‰
    const maxButtons = 7;
    let startPage = Math.max(1, currentPage - Math.floor(maxButtons / 2));
    let endPage = Math.min(totalPages, startPage + maxButtons - 1);
    
    if (endPage - startPage < maxButtons - 1) {
        startPage = Math.max(1, endPage - maxButtons + 1);
    }
    
    if (startPage > 1) {
        html += `<button class="page-btn" onclick="performSearch(1)">1</button>`;
        if (startPage > 2) {
            html += `<span class="page-info">...</span>`;
        }
    }
    
    for (let i = startPage; i <= endPage; i++) {
        const activeClass = i === currentPage ? 'active' : '';
        html += `<button class="page-btn ${activeClass}" onclick="performSearch(${i})">${i}</button>`;
    }
    
    if (endPage < totalPages) {
        if (endPage < totalPages - 1) {
            html += `<span class="page-info">...</span>`;
        }
        html += `<button class="page-btn" onclick="performSearch(${totalPages})">${totalPages}</button>`;
    }
    
    // ä¸‹ä¸€é¡µæŒ‰é’®
    if (currentPage < totalPages) {
        html += `<button class="page-btn" onclick="performSearch(${currentPage + 1})">Next â†’</button>`;
    } else {
        html += `<button class="page-btn" disabled>Next â†’</button>`;
    }
    
    container.innerHTML = html;
}

// æ¸…é™¤æœç´¢
function clearSearch() {
    searchResultIds = null;
    currentSearchQuery = '';
    totalSearchResults = 0;
    currentSearchPage = 1;
    document.getElementById('search-input').value = '';
    document.getElementById('search-status').style.display = 'none';
    document.getElementById('clear-search-btn').style.display = 'none';
    document.getElementById('pagination-container').style.display = 'none';
    
    // é‡æ–°æ¸²æŸ“æ‰€æœ‰è®ºæ–‡
    renderAllPapers();
}

// æœç´¢æ¡†å›è½¦äº‹ä»¶
document.addEventListener('DOMContentLoaded', () => {
    const searchInput = document.getElementById('search-input');
    if (searchInput) {
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                performSearch();
            }
        });
    }
});

// æ¸²æŸ“è®ºæ–‡åˆ—è¡¨ï¼ˆåˆ†æ‰¹æ¸²æŸ“ä¼˜åŒ–ï¼‰
function renderPaperList(papers, tabId) {
    // ä¿å­˜å½“å‰æ¿€æ´»çš„ç­›é€‰å™¨ï¼ˆä»…åœ¨ active tabï¼‰
    if (tabId === 'active') {
        const activeFilterBtn = document.querySelector(`#${tabId} .filter-btn.active`);
        if (activeFilterBtn) {
            currentActiveFilter = activeFilterBtn.dataset.filter;
        }
    }
    // ç»Ÿè®¡å„ç±»å‹æ•°é‡
    let countIncrease = 0, countDecrease = 0, countNochange = 0, countNochanges = 0, countNoReviews = 0;
    papers.forEach(p => {
        if (p.reviews === 0) {
            countNoReviews++;
        } else {
            const hasAnyChange = p.changes.increase > 0 || p.changes.decrease > 0 || p.changes.nochange > 0;
            if (p.changes.increase > 0) countIncrease++;
            if (p.changes.decrease > 0) countDecrease++;
            if (p.changes.nochange > 0) countNochange++;
            // No Changes: æœ‰reviewä½†æ‰€æœ‰reviewéƒ½æ²¡æœ‰ä¿®æ”¹è¿‡
            if (!hasAnyChange) countNochanges++;
        }
    });
    
    // ç”Ÿæˆç­›é€‰å™¨
    let html = `
        <div class="filters"><div class="filter-group">
            <button class="filter-btn active" data-filter="all" onclick="toggleFilter('${tabId}', 'all')">All <span class="filter-count">(${papers.length})</span></button>
            <button class="filter-btn" data-filter="increase" onclick="toggleFilter('${tabId}', 'increase')">Rating â†‘ <span class="filter-count">(${countIncrease})</span></button>
            <button class="filter-btn" data-filter="decrease" onclick="toggleFilter('${tabId}', 'decrease')">Rating â†“ <span class="filter-count">(${countDecrease})</span></button>
            <button class="filter-btn" data-filter="ratingnochange" onclick="toggleFilter('${tabId}', 'ratingnochange')">Rating = <span class="filter-count">(${countNochange})</span></button>
            <button class="filter-btn" data-filter="nochanges" onclick="toggleFilter('${tabId}', 'nochanges')">No Changes <span class="filter-count">(${countNochanges})</span></button>
            <button class="filter-btn" data-filter="noreviews" onclick="toggleFilter('${tabId}', 'noreviews')">No Reviews <span class="filter-count">(${countNoReviews})</span></button>
        </div></div>
        <div class="paper-list" id="list-${tabId}"></div>`;
    
    document.getElementById(tabId).innerHTML = html;
    
    // åˆ†æ‰¹æ¸²æŸ“è®ºæ–‡å¡ç‰‡ï¼ˆæ¯æ‰¹200ä¸ªï¼‰
    const batchSize = 200;
    let currentIndex = 0;
    const listContainer = document.getElementById(`list-${tabId}`);
    
    function renderBatch() {
        const endIndex = Math.min(currentIndex + batchSize, papers.length);
        const fragment = document.createDocumentFragment();
        
        for (let i = currentIndex; i < endIndex; i++) {
            const paper = papers[i];
            const card = createPaperCard(paper);
            fragment.appendChild(card);
        }
        
        listContainer.appendChild(fragment);
        currentIndex = endIndex;
        
        // æ¯æ‰¹æ¬¡æ¸²æŸ“åéƒ½åº”ç”¨å½“å‰ç­›é€‰çŠ¶æ€
        updateFilters(tabId);
        
        if (currentIndex < papers.length) {
            requestAnimationFrame(renderBatch);
        } else {
            // æ¸²æŸ“å®Œæˆåï¼Œæ¢å¤ä¹‹å‰çš„ç­›é€‰çŠ¶æ€ï¼ˆä»…åœ¨ active tab ä¸”æœ‰æœç´¢æ—¶ï¼‰
            if (tabId === 'active' && searchResultIds && currentActiveFilter !== 'all') {
                setTimeout(() => {
                    const filterBtn = document.querySelector(`#${tabId} .filter-btn[data-filter="${currentActiveFilter}"]`);
                    if (filterBtn) {
                        filterBtn.click();
                    }
                }, 100);
            }
        }
    }
    
    renderBatch();
}

// åˆ›å»ºå•ä¸ªè®ºæ–‡å¡ç‰‡
function createPaperCard(paper) {
    const div = document.createElement('div');
    div.className = 'paper-card';
    
    const hasChanges = paper.changes.increase + paper.changes.decrease + paper.changes.nochange > 0;
    const hasIncrease = paper.changes.increase > 0;
    const hasDecrease = paper.changes.decrease > 0;
    const hasNochange = paper.changes.nochange > 0;
    const hasReviews = paper.reviews > 0;
    
    div.dataset.paperId = paper.id;
    div.dataset.hasChange = hasChanges;
    div.dataset.hasIncrease = hasIncrease;
    div.dataset.hasDecrease = hasDecrease;
    div.dataset.hasRatingnochange = hasNochange;
    div.dataset.hasReviews = hasReviews;
    
    // æ ¼å¼åŒ–æ—¶é—´
    const cdate = new Date(paper.cdate).toLocaleDateString('en-GB', {day: '2-digit', month: 'short', year: 'numeric'});
    const mdate = paper.mdate && paper.mdate !== paper.cdate ? 
        new Date(paper.mdate).toLocaleDateString('en-GB', {day: '2-digit', month: 'short', year: 'numeric'}) : null;
    const dateDisplay = mdate ? `${cdate} (modified: ${mdate})` : cdate;
    
    // PDF URL
    let pdfUrl = paper.pdf;
    if (pdfUrl && pdfUrl.startsWith('/')) {
        pdfUrl = 'https://openreview.net' + pdfUrl;
    }
    
    div.innerHTML = `
        <div class="paper-title"><a href="paper.html#${paper.id}">${paper.title}</a></div>
        <div class="paper-info-line">${paper.venue} ${paper.number}</div>
        <div class="paper-info-line">${dateDisplay}${pdfUrl ? ' â€¢ <a href="' + pdfUrl + '" target="_blank" class="pdf-link">PDF</a>' : ''}</div>
        <div class="paper-toggle" onclick="loadDetails('${paper.id}')">â–¼ Show details</div>
        <div class="paper-details" id="details-${paper.id}" style="display:none;"></div>
        <div class="paper-meta">
            <span class="meta-item">ğŸ“ ${paper.reviews} reviews</span>
            ${hasIncrease ? `<span class="badge badge-increase">Rating â†‘ (${paper.changes.increase})</span>` : ''}
            ${hasDecrease ? `<span class="badge badge-decrease">Rating â†“ (${paper.changes.decrease})</span>` : ''}
            ${hasNochange ? `<span class="badge badge-ratingnochange">Rating = (${paper.changes.nochange})</span>` : ''}
            ${!hasChanges ? '<span class="badge badge-nochanges">No Changes</span>' : ''}
        </div>`;
    
    return div;
}
    </script>
</body>
</html>
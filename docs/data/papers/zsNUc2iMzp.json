{"id": "zsNUc2iMzp", "number": 12458, "cdate": 1758207969903, "mdate": 1759897508803, "content": {"title": "LMask: Learn to Solve Constrained Routing Problems with Lazy Masking", "abstract": "Routing problems are canonical combinatorial optimization tasks with wide-ranging applications in logistics, transportation, and supply chain management. However, solving these problems becomes significantly more challenging when complex constraints are involved. In this paper, we propose LMask, a novel learning framework that utilizes dynamic masking to generate high-quality feasible solutions for constrained routing problems. LMask introduces the LazyMask decoding method, which lazily refines feasibility masks with the backtracking mechanism. In addition, it employs the refinement intensity embedding to encode the search trace into the model, mitigating representation ambiguities induced by backtracking. To further reduce sampling cost, LMask sets a backtracking budget during decoding, while constraint violations are penalized in the loss function during training to counteract infeasibility caused by this budget. We provide theoretical guarantees for the validity and probabilistic optimality of our approach. Extensive experiments on the traveling salesman problem with time windows (TSPTW) and TSP with draft limits (TSPDL) demonstrate that LMask achieves state-of-the-art feasibility rates and solution quality, outperforming existing neural methods.", "tldr": "", "keywords": ["Neural Combinatorial Optimization", "Routing Problem", "Deep Learning"], "primary_area": "optimization", "venue": "ICLR 2026 Conference Submission", "pdf": "/pdf/71eee16877ac0d0a8bd94311c85f96e89f2874d6.pdf", "supplementary_material": ""}, "replies": [{"content": {"summary": {"value": "This paper presents LazyMask (LMask), a new decoding mechanism coupled with refinement intensity embedding (RIE) that augments model state with search-trace information for solving hard-constrained routing problems, specifically TSPTW and TSPDL. The key design is integrating a backtracking-based masking strategy that enables neural constructive methods to generate feasible solutions more effectively. Results on TSPTW and TSPDL show that LMask achieves lower infeasibility rates and improved solution quality compared to baselines."}, "soundness": {"value": 3}, "presentation": {"value": 3}, "contribution": {"value": 2}, "strengths": {"value": "- The paper is generally well-written with clear presentation and logical structure. \n- The proposed LMask represents a meaningful advancement for neural constructive methods applied to TSPTW and TSPDL.\n- The inclusion of theoretical analysis provides valuable insights.\n- The experimental evaluation is extensive and the results are promising."}, "weaknesses": {"value": "- The applicability of the Lmask seems limited. The discussions and experiments focus almost entirely on TSPTW and TSPDL, both of which involve temporal constraints. It is uncertain whether the backtracking-based masking strategy and RIE mechanism can be effectively extended to other complex constrained VRPs with different constraints.\n- The paper lacks an in-depth analysis of the gap between the true potential set $S$ and its estimation $\\hat{S}$. There is no empirical or theoretical investigation of how well such approximations work under different conditions.\n- The selection of the backtracking budget $R$ appears empirical without principled guidelines.\n- Infeasibility rates in Tables 1 and 2 are still not 0.00%, while classical methods like LKH3 achieve perfect feasibility. The paper should investigate why the Lmask still fails in those cases and what additional methods may be needed to fully close this gap."}, "questions": {"value": "Please see my comments above."}, "flag_for_ethics_review": {"value": ["No ethics review needed."]}, "rating": {"value": 4}, "confidence": {"value": 4}, "code_of_conduct": {"value": "Yes"}}, "id": "SXpsbNKn69", "forum": "zsNUc2iMzp", "replyto": "zsNUc2iMzp", "signatures": ["ICLR.cc/2026/Conference/Submission12458/Reviewer_KHo7"], "nonreaders": [], "readers": ["everyone"], "writers": ["ICLR.cc/2026/Conference", "ICLR.cc/2026/Conference/Submission12458/Reviewer_KHo7"], "number": 1, "invitations": ["ICLR.cc/2026/Conference/Submission12458/-/Official_Review", "ICLR.cc/2026/Conference/-/Edit"], "domain": "ICLR.cc/2026/Conference", "tcdate": 1761369913235, "cdate": 1761369913235, "tmdate": 1762923340010, "mdate": 1762923340010, "parentInvitations": "ICLR.cc/2026/Conference/-/Official_Review", "license": "CC BY 4.0", "version": 2}, {"content": {"summary": {"value": "This paper proposes LMask, a novel method for enhancing auto-regressive neural solvers on constrained routing problems. Specifically, it integrates a backtracking mechanism during decoding to prevent from infeasible solutions, and designs a refinement intensity embedding method to mitigate representation ambiguity induced by backtracking. The validity of the proposed method is theoretically analyzed under specific assumptions. Experiments on two typical constrained routing problems, TSPTW and TSPDL, demonstrate its superior performance over existing methods."}, "soundness": {"value": 3}, "presentation": {"value": 3}, "contribution": {"value": 3}, "strengths": {"value": "1. The proposed method is well-motivated. The paper is well-written and easy to follow.\n2. On the two benchmark problems TSPTW and TSPDL, the results clearly demonstrate the superiority of LMask against competitors. \n3. The authors provide extensive ablation and hyperparameter studies, with clear analysis."}, "weaknesses": {"value": "1. The meaning of the theoretical parts is limited, since the conditions and assumptions seems much too strict."}, "questions": {"value": "1. How does LMask perform when paired with other architectures, such as LEHD?"}, "flag_for_ethics_review": {"value": ["No ethics review needed."]}, "rating": {"value": 6}, "confidence": {"value": 4}, "code_of_conduct": {"value": "Yes"}}, "id": "m03Hh1NDLQ", "forum": "zsNUc2iMzp", "replyto": "zsNUc2iMzp", "signatures": ["ICLR.cc/2026/Conference/Submission12458/Reviewer_V3Tu"], "nonreaders": [], "readers": ["everyone"], "writers": ["ICLR.cc/2026/Conference", "ICLR.cc/2026/Conference/Submission12458/Reviewer_V3Tu"], "number": 2, "invitations": ["ICLR.cc/2026/Conference/Submission12458/-/Official_Review", "ICLR.cc/2026/Conference/-/Edit"], "domain": "ICLR.cc/2026/Conference", "tcdate": 1761912309254, "cdate": 1761912309254, "tmdate": 1762923339741, "mdate": 1762923339741, "parentInvitations": "ICLR.cc/2026/Conference/-/Official_Review", "license": "CC BY 4.0", "version": 2}, {"content": {"summary": {"value": "The paper proposes LMask, a learning framework for constrained routing that decodes with a LazyMask mechanism combining lightweight lookahead with adaptive backtracking. It introduces refinement intensity embedding (RIE) to encode the backtracking trace into the decoder. Theoretical guarantees are also provided: with unbounded backtracking, LazyMask generates only feasible solutions and assigns non-zero probability to all feasible ones, and a probabilistic optimality bound is analyzed."}, "soundness": {"value": 3}, "presentation": {"value": 3}, "contribution": {"value": 3}, "strengths": {"value": "1.\tThe proposed LMask contributes significantly to the current masking mechanism, which excludes the infeasible actions perfectly and efficiently via a smart backtracking design. \n\n2.\tProposition 4.1 provides a strong feasibility guarantee, lending theoretical grounding to masking-based constraint handling.\n\n3.\tThe method achieves notable improvements on the TSPTW and TSPDL benchmarks, while maintaining competitive inference times and demonstrating robustness across instance scales and distributions"}, "weaknesses": {"value": "The theoretical contribution of Theorem 4.3 appears limited for practice. Its bound relies on an approximation assumption and does not directly inform the backtracking design or concrete hyperparameter choices, thus offering limited guidance for algorithmic tuning."}, "questions": {"value": "Could the proposed backtracking mechanism be extended to large language model (LLM)-based solvers? While LLMs do not share the same MDP formalism, they are also autoregressive. I am curious about whether LazyMask-style backtracking, and RIE-like signals might transfer to general sequential models. This is only for discussion; no additional experiments are requested."}, "flag_for_ethics_review": {"value": ["No ethics review needed."]}, "rating": {"value": 8}, "confidence": {"value": 3}, "code_of_conduct": {"value": "Yes"}}, "id": "3KhSPy6IAh", "forum": "zsNUc2iMzp", "replyto": "zsNUc2iMzp", "signatures": ["ICLR.cc/2026/Conference/Submission12458/Reviewer_jBMF"], "nonreaders": [], "readers": ["everyone"], "writers": ["ICLR.cc/2026/Conference", "ICLR.cc/2026/Conference/Submission12458/Reviewer_jBMF"], "number": 3, "invitations": ["ICLR.cc/2026/Conference/Submission12458/-/Official_Review", "ICLR.cc/2026/Conference/-/Edit"], "domain": "ICLR.cc/2026/Conference", "tcdate": 1761918880913, "cdate": 1761918880913, "tmdate": 1762923337398, "mdate": 1762923337398, "parentInvitations": "ICLR.cc/2026/Conference/-/Official_Review", "license": "CC BY 4.0", "version": 2}, {"content": {"summary": {"value": "The paper aims to address the challenge of constrained routing problems. It introduces the LazyMask decoding method, which lazily refines feasibility masks with the backtracking mechanism. In addition, it employs the refinement intensity embedding to encode the search trace into the model. The proposed method is tested on TSPTW and TSPDL."}, "soundness": {"value": 3}, "presentation": {"value": 3}, "contribution": {"value": 3}, "strengths": {"value": "- This paper aims to address the challenging constrained routing problems in neural methods.\n- The idea of using lazy masks to correct the decoding errors on the nonlinear routing problems is interesting.\n- The performance on the complex TSPTW and TSPDL is good, with low infeasibility and competitive solution quality. The experiments are thorough."}, "weaknesses": {"value": "- The backtracking mechanism introduces additional computational overhead. \n- The idea is not that impressive. PIP adopts a lookahead mask, whereas LMask uses backtracking. Also, it would be better to theoretically and empirically analyse the computational complexity of these two methods. Why is LMask, with a two-step lookahead and backtracking, reported to be faster than PIP, which also uses a two-step lookahead but without backtracking?\n- The selection criteria for the backtracking budget on each problem are unclear.\n- The theoretical guarantee provided for LMask relies on the assumption of an infinite computational budget, which is impractical in real-world scenarios.\n- The proposed method appears to be specifically tailored for constrained nonlinear problems. Can it also be applied to constrained linear problems?"}, "questions": {"value": "-  Is TSL initialization the same as PIP?\n- What are Greedy-C and Greedy-C in Table 9?"}, "flag_for_ethics_review": {"value": ["No ethics review needed."]}, "details_of_ethics_concerns": {"value": "I have no ethical concerns."}, "rating": {"value": 6}, "confidence": {"value": 5}, "code_of_conduct": {"value": "Yes"}}, "id": "4Of3q2rqos", "forum": "zsNUc2iMzp", "replyto": "zsNUc2iMzp", "signatures": ["ICLR.cc/2026/Conference/Submission12458/Reviewer_nv24"], "nonreaders": [], "readers": ["everyone"], "writers": ["ICLR.cc/2026/Conference", "ICLR.cc/2026/Conference/Submission12458/Reviewer_nv24"], "number": 4, "invitations": ["ICLR.cc/2026/Conference/Submission12458/-/Official_Review", "ICLR.cc/2026/Conference/-/Edit"], "domain": "ICLR.cc/2026/Conference", "tcdate": 1761997886029, "cdate": 1761997886029, "tmdate": 1762923337082, "mdate": 1762923337082, "parentInvitations": "ICLR.cc/2026/Conference/-/Official_Review", "license": "CC BY 4.0", "version": 2}, {"content": {"summary": {"value": "The paper aims to address the challenge of constrained routing problems. It introduces the LazyMask decoding method, which lazily refines feasibility masks with the backtracking mechanism. In addition, it employs the refinement intensity embedding to encode the search trace into the model. The proposed method is tested on TSPTW and TSPDL."}, "soundness": {"value": 3}, "presentation": {"value": 3}, "contribution": {"value": 3}, "strengths": {"value": "- This paper aims to address the challenging constrained routing problems in neural methods.\n- The idea of using lazy masks to correct the decoding errors on the nonlinear routing problems is interesting.\n- The performance on the complex TSPTW and TSPDL is good, with low infeasibility and competitive solution quality. The experiments are thorough."}, "weaknesses": {"value": "- The backtracking mechanism introduces additional computational overhead. \n- The idea is not that impressive. PIP adopts a lookahead mask, whereas LMask uses backtracking. Also, it would be better to theoretically and empirically analyse the computational complexity of these two methods. Why is LMask, with a two-step lookahead and backtracking, reported to be faster than PIP, which also uses a two-step lookahead but without backtracking?\n- The selection criteria for the backtracking budget on each problem are unclear.\n- The theoretical guarantee provided for LMask relies on the assumption of an infinite computational budget, which is impractical in real-world scenarios.\n- The proposed method appears to be specifically tailored for constrained nonlinear problems. Can it also be applied to constrained linear problems?"}, "questions": {"value": "-  Is TSL initialization the same as PIP?\n- What are Greedy-C and Greedy-C in Table 9?"}, "flag_for_ethics_review": {"value": ["No ethics review needed."]}, "details_of_ethics_concerns": {"value": "I have no ethical concerns."}, "rating": {"value": 6}, "confidence": {"value": 4}, "code_of_conduct": {"value": "Yes"}}, "id": "4Of3q2rqos", "forum": "zsNUc2iMzp", "replyto": "zsNUc2iMzp", "signatures": ["ICLR.cc/2026/Conference/Submission12458/Reviewer_nv24"], "nonreaders": [], "readers": ["everyone"], "writers": ["ICLR.cc/2026/Conference", "ICLR.cc/2026/Conference/Submission12458/Reviewer_nv24"], "number": 4, "invitations": ["ICLR.cc/2026/Conference/Submission12458/-/Official_Review", "ICLR.cc/2026/Conference/-/Edit"], "domain": "ICLR.cc/2026/Conference", "tcdate": 1761997886029, "cdate": 1761997886029, "tmdate": 1763097431036, "mdate": 1763097431036, "parentInvitations": "ICLR.cc/2026/Conference/-/Official_Review", "license": "CC BY 4.0", "version": 2}], "withdrawn": false}
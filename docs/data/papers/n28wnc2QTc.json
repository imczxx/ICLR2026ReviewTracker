{"id": "n28wnc2QTc", "number": 23598, "cdate": 1758346114579, "mdate": 1763740064958, "content": {"title": "Query-Aware Flow Diffusion for Graph-Based RAG with Retrieval Guarantees", "abstract": "Graph-based Retrieval-Augmented Generation (RAG) systems leverage interconnected knowledge structures to capture complex relationships that flat retrieval struggles with, enabling multi-hop reasoning. Yet most existing graph-based methods suffer from (i) heuristic designs lacking theoretical guarantees for subgraph quality or relevance and/or (ii) the use of static exploration strategies that ignore the query's holistic meaning, retrieving neighborhoods or communities regardless of intent. We propose *Query-Aware Flow Diffusion RAG* (QAFD-RAG), a training-free framework that dynamically adapts graph traversal to each query's holistic semantics. The central innovation is *query-aware traversal*: during graph exploration, edges are dynamically weighted by how well their endpoints align with the query's embedding, guiding flow along semantically relevant paths while avoiding structurally connected but irrelevant regions. These query-specific reasoning subgraphs enable the first statistical guarantees for query-aware graph retrieval, showing that QAFD-RAG recovers relevant subgraphs with high probability under mild signal-to-noise conditions. The algorithm converges exponentially fast, with complexity scaling with the retrieved subgraph size rather than the full graph. Experiments on question answering and text-to-SQL tasks demonstrate consistent improvements over state-of-the-art graph-based RAG methods.", "tldr": "QAFD-RAG is a training-free graph-based RAG that dynamically adapts traversal to query semantics via flow diffusion, yielding principled subgraph recovery guarantees and consistent gains on reasoning tasks.", "keywords": ["Graph-Based RAG", "Training-Free Retrieval", "Multi-Hop Reasoning", "Query-Aware Graph Traversal", "Subgraph Recovery Guarantees"], "primary_area": "learning on graphs and other geometries & topologies", "venue": "ICLR 2026 Conference Submission", "pdf": "/pdf/1559b7fcb2d68b3dd218dd110569a21ac229696a.pdf", "supplementary_material": ""}, "replies": [{"content": {"summary": {"value": "This paper introduces Query-Aware Flow Diffusion (QAFD), a new graph-based retrieval method for retrieval-augmented generation. The key idea is to make graph diffusion sensitive to query semantics by dynamically adjusting edge weights based on semantic similarity. The authors also provide theoretical guarantees on convergence and subgraph recovery, and validate the method on multi-hop QA and text-to-SQL tasks, showing clear improvements over prior graph RAG approaches."}, "soundness": {"value": 3}, "presentation": {"value": 4}, "contribution": {"value": 3}, "strengths": {"value": "1. The proposed method is conceptually novel, integrating semantic and structural signals in a principled way.\n\n2. Theoretical analysis provides valuable guarantees rarely seen in RAG research.\n\n3. Experiments are comprehensive and show strong performance gains with reduced computation cost."}, "weaknesses": {"value": "1. Despite the significant innovation in the graph construction process, the method still heavily relies on the quality of pretrained embeddings for semantic similarity, which may limit robustness under domain shift.\n\n2. The method may struggle with handling logical negation. For instance, a query like “not red” may still activate nodes related to “red,” since it is unclear whether the embedding-based similarity explicitly encode negation or exclusion relationships. This could limit the model’s ability to capture fine-grained logical distinctions in retrieval."}, "questions": {"value": "See weaknesses."}, "flag_for_ethics_review": {"value": ["No ethics review needed."]}, "rating": {"value": 8}, "confidence": {"value": 3}, "code_of_conduct": {"value": "Yes"}}, "id": "PdOWT3wJn0", "forum": "n28wnc2QTc", "replyto": "n28wnc2QTc", "signatures": ["ICLR.cc/2026/Conference/Submission23598/Reviewer_Tki9"], "nonreaders": [], "readers": ["everyone"], "writers": ["ICLR.cc/2026/Conference", "ICLR.cc/2026/Conference/Submission23598/Reviewer_Tki9"], "number": 1, "invitations": ["ICLR.cc/2026/Conference/Submission23598/-/Official_Review", "ICLR.cc/2026/Conference/-/Edit"], "domain": "ICLR.cc/2026/Conference", "tcdate": 1761786786093, "cdate": 1761786786093, "tmdate": 1762942729721, "mdate": 1762942729721, "parentInvitations": "ICLR.cc/2026/Conference/-/Official_Review", "license": "CC BY 4.0", "version": 2}, {"content": {"summary": {"value": "This paper introduces Query-Aware Flow Diffusion RAG (QAFD-RAG), a novel framework for graph-based Retrieval-Augmented Generation that addresses the limitation of static, query-agnostic exploration in existing graph-RAG methods. The central innovation is dynamic query-aware graph traversal: instead of fixed edge weights, QAFD-RAG dynamically re-weights edges during exploration based on node-query semantic alignment through principled flow diffusion, prioritizing structurally present and semantically relevant paths. The paper provides theoretical guarantees (exponential convergence, subgraph recovery under mild conditions) and demonstrates empirical superiority over state-of-the-art baselines on question-answering and text-to-SQL tasks."}, "soundness": {"value": 3}, "presentation": {"value": 3}, "contribution": {"value": 2}, "strengths": {"value": "1. The paper presents a novel graph-based RAG approach, which demonstrates its effectiveness from the perspectives of intuitive understanding, theoretical proof, and experimental results.\n\n2. This approach is training-free, which significantly reduces deployment costs, and holds great potential for broad application."}, "weaknesses": {"value": "1. The entire framework is built upon LLM's embeddings, thus it is necessary to compare its sensitivity to embedding quality with other existing methods; however, such experiments are currently lacking.\n2. As a general graph-based RAG framework, the experimental comparisons across domains remain somewhat limited. It would be beneficial to incorporate experiments in more diverse domains or conduct cross-domain validation to demonstrate the framework's robustness."}, "questions": {"value": "1. Why is the number of seed nodes treated as a hyperparameter? Is it necessary to enable adaptive selection across different scenarios, why or why not?"}, "flag_for_ethics_review": {"value": ["No ethics review needed."]}, "rating": {"value": 6}, "confidence": {"value": 3}, "code_of_conduct": {"value": "Yes"}}, "id": "1Tf9utGqqC", "forum": "n28wnc2QTc", "replyto": "n28wnc2QTc", "signatures": ["ICLR.cc/2026/Conference/Submission23598/Reviewer_g1qA"], "nonreaders": [], "readers": ["everyone"], "writers": ["ICLR.cc/2026/Conference", "ICLR.cc/2026/Conference/Submission23598/Reviewer_g1qA"], "number": 2, "invitations": ["ICLR.cc/2026/Conference/Submission23598/-/Official_Review", "ICLR.cc/2026/Conference/-/Edit"], "domain": "ICLR.cc/2026/Conference", "tcdate": 1761818454556, "cdate": 1761818454556, "tmdate": 1762942729245, "mdate": 1762942729245, "parentInvitations": "ICLR.cc/2026/Conference/-/Official_Review", "license": "CC BY 4.0", "version": 2}, {"content": {"summary": {"value": "This work proposes Query-Aware Flow Diffusion RAG (QAFD-RAG) framework for graph-based RAG that incorporates query semantics during the graph diffusion process.\nDuring Indexing Stage, QAFD-RAG builds a knowledge graph from documents. And in the Query Stage, QAFD-RAG dynamically reweights edges and diffuses flow according to query alignment, enabling adaptive graph traversal that are semantically consistent with the query and highlighting reanoning paths.\nQAFD-RAG is a training-free framework offering the statistical guarantees for query-aware subgraph retrieval.\nComprehensive experiments on multiple tasks demonstrate that QAFD-RAG achieves better performance compared with existing SOTA graph-based RAG methods, while significantly reducing the number of LLM calls."}, "soundness": {"value": 4}, "presentation": {"value": 4}, "contribution": {"value": 4}, "strengths": {"value": "1. **Novelty and Strong Motivation**: The motivation of this work is clear and well-argued, effectively highlighting the deficiencies of existing heuristic graph-based RAG methods. And the idea of using graph diffusion theory to deal with the graph traversal process is highly novel, which can effectively help find subgraphs that are semantically relevant with the query.\n2. **Rigorous Theoretical Proof**: The provision of theoretical statistical guarantees is a significant strength. The convergence analysis (Theorem 3, Corollary 4) and, more importantly, the statistical recovery guarantees under a signal-to-noise condition (Theorem 7) provide a solid foundation for the method's efficacy. The analysis convincingly shows how query-aware weighting acts as a semantic filter.\n3. **Comprehensive Experiments and Strong Performance Improvement**: This work benchmarks against a wide array of strong baselines across two distinct and challenging domains. The experiments results under various metrics provide compelling evidence for the method's effectiveness and efficiency.\n4. **Clarity and Reproducibility**: The methodology is well described with precision, including the formulation, the algorithmic procedure, and the derivation process. Besides, code in the anonymous repository is complete and accompanied by some explanatory guidelines in the README, enabling easy reproduction of the work."}, "weaknesses": {"value": "1. **Limited Analysis of Flow Interpretation**: It is easy for us to understand the basic principle of the flow diffusion process for water. However, why the graph flow diffusion can be meaningful and traverse to semantically relevant nodes by dynamic edge reweighting remains unexplained. The experiments also mainly focus on the final output without the deeper analysis of the diffusion process itself.\n2. **Only Compared with Graph-based RAG Methods**: If the study can compare QAFD-RAG with some traditional SOTA RAG methods, or propose insights about how to combine QAFD-RAG with current SOTA RAG methods, it would be better to apply QAFD-RAG in practical scenarios."}, "questions": {"value": "1. Does the way Knowledge Graph is constructed affect the graph-based RAG methods? I find that the performance of GraphRAG and LightRAG is poor on HotpotQA and 2WikiMultihopQA—is that related to this issue?\n2. Will the demand of indexing before retrieval make the QAFD-RAG system hard to fit the scenario where RAG documents are modified frequently? As current KG construction is a static process, will it cost a lot to build such a large KG for graph retrieval?\n\n### Minor Comments\n\n1. It seems that the *Relevance* score of QAFD-RAG in *Legal* dataset in Table 1 is not the best one. HippoRAG (93.60) is better than QAFD-RAG (93.30) and should be marked correctly."}, "flag_for_ethics_review": {"value": ["No ethics review needed."]}, "rating": {"value": 8}, "confidence": {"value": 3}, "code_of_conduct": {"value": "Yes"}}, "id": "5T8EIhrEdu", "forum": "n28wnc2QTc", "replyto": "n28wnc2QTc", "signatures": ["ICLR.cc/2026/Conference/Submission23598/Reviewer_yPqD"], "nonreaders": [], "readers": ["everyone"], "writers": ["ICLR.cc/2026/Conference", "ICLR.cc/2026/Conference/Submission23598/Reviewer_yPqD"], "number": 3, "invitations": ["ICLR.cc/2026/Conference/Submission23598/-/Official_Review", "ICLR.cc/2026/Conference/-/Edit"], "domain": "ICLR.cc/2026/Conference", "tcdate": 1761875327895, "cdate": 1761875327895, "tmdate": 1762942729022, "mdate": 1762942729022, "parentInvitations": "ICLR.cc/2026/Conference/-/Official_Review", "license": "CC BY 4.0", "version": 2}, {"content": {"summary": {"value": "This paper proposes Query-Aware Flow Diffusion for Graph-based RAG (QAFD-RAG), a framework that enhances GraphRAG by incorporating query semantics into graph traversal. The authors design a query-aware diffusion process, where edge weights are dynamically reweighted based on alignment between node embeddings and the query."}, "soundness": {"value": 2}, "presentation": {"value": 1}, "contribution": {"value": 2}, "strengths": {"value": "1. The authors leverage flow-diffusion for subgraph retrieval.\n2. The paper provides theoretical guarantees for convergence and subgraph recovery\n3. The athors evaluate the proposed method on differnt tasks, such as General Question answering, Multi-hop QA and Text-to-SQL tasks."}, "weaknesses": {"value": "1. The paper formatting does not appear to follow the official ICLR template. In particular, the line spacing is noticeably smaller than the required standard,\n\n2. The paper claim existing GraphRAG methods rely on heuristic sugraph search strategies that are holistic query-agnostic. However, there are different retrievers, such as GNN-based Retriever such as GNN-RAG[1], and LLM-based Retriever, such as RoG[2,  which already consider the query semantic.\n\n3. The writing could be improved. There is no logic in the current writting. For example, in line 139, the authors claim \"We pose diffusion as a constrained optimization(6)\", while the equation 6 is in Line 198. Also, the motivation of different components are also unclear. For example, what is the motivation for equation 4,5?\n\n4. For the Multi-hop QA task, the authors only compare 2 simple GraphRAG baseliens.\n\n\n\n\n\n[1] Mavromatis, Costas, and George Karypis. \"Gnn-rag: Graph neural retrieval for large language model reasoning.\"\n[2] Luo, Linhao, et al. \"Reasoning on graphs: Faithful and interpretable large language model reasoning.\""}, "questions": {"value": "Please refer to the weaknesses."}, "flag_for_ethics_review": {"value": ["No ethics review needed."]}, "rating": {"value": 2}, "confidence": {"value": 4}, "code_of_conduct": {"value": "Yes"}}, "id": "uqJ9wx0qlD", "forum": "n28wnc2QTc", "replyto": "n28wnc2QTc", "signatures": ["ICLR.cc/2026/Conference/Submission23598/Reviewer_6VAy"], "nonreaders": [], "readers": ["everyone"], "writers": ["ICLR.cc/2026/Conference", "ICLR.cc/2026/Conference/Submission23598/Reviewer_6VAy"], "number": 4, "invitations": ["ICLR.cc/2026/Conference/Submission23598/-/Official_Review", "ICLR.cc/2026/Conference/-/Edit"], "domain": "ICLR.cc/2026/Conference", "tcdate": 1761960886027, "cdate": 1761960886027, "tmdate": 1762942728827, "mdate": 1762942728827, "parentInvitations": "ICLR.cc/2026/Conference/-/Official_Review", "license": "CC BY 4.0", "version": 2}], "withdrawn": false}